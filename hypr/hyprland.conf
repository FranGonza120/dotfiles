################
### MONITORS ###
################

monitor=HDMI-A-1, 1920x1080@144, 0x0, 1
monitor=eDP-1, 1920x1080@60, 1920x0, 1

###################
### MY PROGRAMS ###
###################

$terminal = wezterm
$fileManager = thunar
$menu = wofi --show drun


#################
### AUTOSTART ###
#################

exec-once = dbus-update-activation-environment --systemd DISPLAY WAYLAND_DISPLAY HYPRLAND_INSTANCE_SIGNATURE XDG_CURRENT_DESKTOP=hyprland
exec-once = dbus-update-activation-environment --systemd --all
exec-once = systemctl --user import-environment DISPLAY WAYLAND_DISPLAY HYPRLAND_INSTANCE_SIGNATURE XDG_CURRENT_DESKTOP DBUS_SESSION_BUS_ADDRESS
exec-once = hyprpolkitagent
exec-once = /usr/libexec/xdg-desktop-portal-hyprland
exec-once = /usr/libexec/xdg-desktop-portal
exec-once = nm-applet
exec-once = mako
exec-once = blueman-applet
exec-once = syncthing serve --no-browser
exec-once = hyprpaper 


#############################
### ENVIRONMENT VARIABLES ###
#############################

env = XCURSOR_SIZE,24
env = XCURSOR_THEME,capitaine-cursors
env = HYPRCURSOR_SIZE,24
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland
env = GTK_THEME,Tokyonight-Dark-Moon
env = GDK_BACKEND,wayland,x11,*
env = QT_QPA_PLATFORM,wayland;xcb

env = WEZTERM_FRONT_END,OpenGL


#############
### INPUT ###
#############

input {
    kb_layout = latam
    kb_variant =
    kb_model =
    kb_options =
    kb_rules =

    follow_mouse = 1
    sensitivity = 0

    touchpad {
        natural_scroll = false
    }
}



###################
### KEYBINDINGS ###
###################

$mainMod = SUPER

# Lanzadores
bind = $mainMod, Return, exec, $terminal
bind = $mainMod, D, exec, wofi -n
bind = $mainMod, O, exec, ~/Escritorio/3.Recursos/dotfiles/Scripts/rofi/open_file_wofi.sh
bind = $mainMod SHIFT, B, exec, ~/Escritorio/3.Recursos/dotfiles/Scripts/rofi/select_wallpaper_hyprpaper.sh

# Gestión de ventanas
bind = $mainMod, Q, killactive
bind = $mainMod SHIFT, R, exec, hyprctl reload
bind = $mainMod SHIFT, E, exit,
bind = $mainMod, F, fullscreen,
bind = $mainMod SHIFT, F, togglefloating,
bind = $mainMod, S, exec, grim -g "$(slurp)" - | wl-copy
#bind = $mainMod, P, exec, ~/.config/swaylock/lock.sh
bind = $mainMod, W, exec, ~/Escritorio/3.Recursos/dotfiles/Scripts/waybar.sh

# Movimiento y foco (HJKL estilo vim)
bind = $mainMod, H, movefocus, l
bind = $mainMod, J, movefocus, d
bind = $mainMod, K, movefocus, u
bind = $mainMod, L, movefocus, r

# Mover ventanas
bind = $mainMod SHIFT, H, movewindow, l
bind = $mainMod SHIFT, J, movewindow, d
bind = $mainMod SHIFT, K, movewindow, u
bind = $mainMod SHIFT, L, movewindow, r

# Split horizontal/vertical
bind = $mainMod, B, splitratio, 0.5
bind = $mainMod, V, splitratio, 0.5

# Cambiar tamaño (modo resize similar)
bind = $mainMod, R, submap, resize
submap = resize
    bind = , H, resizeactive, -10 0
    bind = , J, resizeactive, 0 10
    bind = , K, resizeactive, 0 -10
    bind = , L, resizeactive, 10 0
    bind = , escape, submap, reset
    bind = , return, submap, reset
submap = reset

# Workspaces (1-7)
bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7

# Movimiento entre monitores
bind = $mainMod SHIFT, left, movewindow, mon:-1
bind = $mainMod SHIFT, right, movewindow, mon:+1
bind = $mainMod, left, focusmonitor, l
bind = $mainMod, right, focusmonitor, r
#bind = $mainMod, SHIFT, N, moveworkspacetomonitor, l
bind = $mainMod, M, movecurrentworkspacetomonitor, +1
bind = $mainMod CTRL, left, exec, hyprctl dispatch movecursor -1920 0
bind = $mainMod CTRL, right, exec, hyprctl dispatch movecursor 1920 0

# Audio y brillo
bindel = ,XF86AudioRaiseVolume, exec, ~/.config/sway/volume.sh up
bindel = ,XF86AudioLowerVolume, exec, ~/.config/sway/volume.sh down
bindel = ,XF86AudioMute, exec, ~/.config/sway/volume.sh mute
bindel = ,XF86MonBrightnessUp, exec, brightnessctl set +10%
bindel = ,XF86MonBrightnessDown, exec, brightnessctl set 10%-


#####################
### LOOK AND FEEL ###
#####################

general {
    gaps_in = 5
    gaps_out = 5
    border_size = 2
    col.active_border = rgba(7aa2f7FF)
    col.inactive_border = rgba(595959aa)
    resize_on_border = false
    allow_tearing = false
    layout = dwindle
}

decoration {
    rounding = 10
    active_opacity = 1.0
    inactive_opacity = 1.0
    blur {
        enabled = true
        size = 3
        passes = 1
        vibrancy = 0.1696
    }
}

# https://wiki.hypr.land/Configuring/Variables/#animations
animations {
    enabled = no, please :)
    #        NAME,           X0,   Y0,   X1,   Y1
    bezier = easeOutQuint,   0.23, 1,    0.32, 1
    bezier = easeInOutCubic, 0.65, 0.05, 0.36, 1
    bezier = linear,         0,    0,    1,    1
    bezier = almostLinear,   0.5,  0.5,  0.75, 1
    bezier = quick,          0.15, 0,    0.1,  1
    #           NAME,          ONOFF, SPEED, CURVE,        [STYLE]
    animation = global,        1,     10,    default
    animation = border,        1,     5.39,  easeOutQuint
    animation = windows,       1,     4.79,  easeOutQuint
    animation = windowsIn,     1,     4.1,   easeOutQuint, popin 87%
    animation = windowsOut,    1,     1.49,  linear,       popin 87%
    animation = fadeIn,        1,     1.73,  almostLinear
    animation = fadeOut,       1,     1.46,  almostLinear
    animation = fade,          1,     3.03,  quick
    animation = layers,        1,     3.81,  easeOutQuint
    animation = layersIn,      1,     4,     easeOutQuint, fade
    animation = layersOut,     1,     1.5,   linear,       fade
    animation = fadeLayersIn,  1,     1.79,  almostLinear
    animation = fadeLayersOut, 1,     1.39,  almostLinear
    animation = workspaces,    1,     1.94,  almostLinear
}


misc { 
    disable_hyprland_logo = true
}


##############################
### WINDOWS AND WORKSPACES ###
##############################

windowrule = suppressevent maximize, class:.*
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0

# Asignación de apps a workspaces
windowrulev2 = noborder, class:^(wofi)$
windowrulev2 = workspace 1, class:^(org.wezfurlong.wezterm|thunar)$
windowrulev2 = workspace 2, class:^(obsidian)$
windowrulev2 = workspace 3, class:^(firefox|app.zen_browser.zen)$
windowrulev2 = workspace 4, class:^(okular|org.pwmt.zathura)$
windowrulev2 = workspace 5, class:^(Spotify|com.github.neithern.g4music)$

# Firefox fullscreen
windowrulev2 = fullscreen, class:^(firefox)$

